{% extends 'layouts/base.html' %}
{% import 'macros/form_macros.html' as f %}

{% block content %}
    <div class="container center-container">
        <div class="account">
            <div class="row mx-0">
                <div class="col-6 info">
                    <h3 class="brand my-5">Blinky</h3>
                    <h4 class="my-3 brand-info">Convert your twitter threads or spaces into a podcast.</h4>
                </div>
                <div class="col-6 form">
                    <div class="my-3">
                         {% set flashes = {
                                'error':   get_flashed_messages(category_filter=['form-error']),
                                'warning': get_flashed_messages(category_filter=['form-check-email']),
                                'info':    get_flashed_messages(category_filter=['form-info']),
                                'success': get_flashed_messages(category_filter=['form-success'])
                            } %}
                    </div>
                    <div class="m-3">
                        <div class="form-container mt-4">
                            <div class="d-block mt-5 ml-2">
                                <p class="small text-muted mb-2">Welcome back! ðŸ‘‹</p>
                                <h1 class="bold form-header">Login to your account</h1>
                                <br>
                            </div>
                            <div class="mt-2 mx-4">
                               {{ f.begin_form(form, flashes) }}
                                    {{ f.form_message(flashes['error'], header='Something went wrong.', class='error') }}
                                    {{ f.form_message(flashes['warning'], header='Check your email.', class='warning') }}
                                    {{ f.form_message(flashes['info'], header='Information', class='info') }}
                                    {{ f.form_message(flashes['success'], header='Success!', class='success') }}

                                    <div class="row mb-3">
                                        <label for="email">Email</label>
                                        {{ form.email(class_="form-control rounded-md", placeholder="") }}
                                    </div>

                                    <div class="row mb-3">
                                        <label for="password">Password</label>
                                        {{ form.password(class_="form-control rounded-md") }}
                                    </div>
                                    
                                    <div class="row mb-2">
                                        <div class="right aligned column">
                                            <!-- {{ f.render_form_field(form.remember_me, extra_classes='column text-white') }} -->
                                            <a href="{{ url_for('account.reset_password_request') }}" class="text-primary">Forgot password?</a>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <!-- {{ form.submit(class_="btn btn-blinky") }} -->
                                        {{ f.render_form_field(form.submit, extra_classes="btn btn-blinky") }}
                                    </div>
                               {{ f.end_form(form) }}

                               <p class="text-center mt-4"> New User? <a href="{{ url_for('account.register') }}" class="text-primary">Register</a></p>
                           </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <h1 class="text-3xl font-bold underline text-clifford">
        Hello world!
        </h1> -->
{% endblock %}