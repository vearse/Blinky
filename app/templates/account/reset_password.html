{% extends 'layouts/base.html' %}
{% import 'macros/form_macros.html' as f %}

{% block content %}
    <!-- <div class="ui grid account">
        <div class="eight wide computer sixteen wide mobile centered column">
            <form-container>
                <h2 class="ui dividing header text-white">Reset your password</h2>
                {{ f.render_form(form) }}
            </form-container>
        </div>
    </div> -->

    <div class="container center-container">
        <div class="account">
            <div class="row mx-0">
                <div class="col-6 info">
                    <h3 class="brand my-5">Blinky</h3>
                    <h4 class="my-3 brand-info">Convert your twitter threads or spaces into a podcast.</h4>
                </div>
                <div class="col-6 form">
                    <div class="my-3">
                         {% set flashes = {
                                'error':   get_flashed_messages(category_filter=['form-error']),
                                'warning': get_flashed_messages(category_filter=['form-check-email']),
                                'info':    get_flashed_messages(category_filter=['form-info']),
                                'success': get_flashed_messages(category_filter=['form-success'])
                            } %}
                    </div>
                    <div class="m-3">
                        <div class="form-container mt-4">
                            <div class="d-block mt-5 ml-2">
                                <p class="small text-muted mb-2">Reset Password</p>
                                <h1 class="bold form-header">Enter your email to recet your 
                                    password</h1>
                                <br>
                            </div>
                            <div class="mt-2 mx-4">
                                <!-- {{ f.render_form(form) }} -->
                               {{ f.begin_form(form, flashes) }}
                                    {{ f.form_message(flashes['error'], header='Something went wrong.', class='error') }}
                                    {{ f.form_message(flashes['warning'], header='Check your email.', class='warning') }}
                                    {{ f.form_message(flashes['info'], header='Information', class='info') }}
                                    {{ f.form_message(flashes['success'], header='Success!', class='success') }}

                                    <div class="row mb-3">
                                        <label for="email">Email</label>
                                        {{ form.email(class_="form-control rounded-md", placeholder="") }}
                                    </div>
                                    
                                    <div class="row">
                                        <!-- {{ form.submit(class_="btn btn-blinky") }} -->
                                        {{ f.render_form_field(form.submit, extra_classes="btn btn-blinky") }}
                                    </div>
                               {{ f.end_form(form) }}

                               <p class="text-center mt-4"> New User? <a href="{{ url_for('account.register') }}" class="text-primary">Register</a></p>
                           </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
